<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>TestToolbarButtonCommand.html</title>
		<script type="text/javascript" src="../../../../amplesdk/ample/runtime.js"></script>
		<script type="text/javascript" src="../../../../amplesdk/ample/languages/xul/xul.js"></script>
		<script type="text/javascript" src="../../../../amplesdk/ample/languages/xhtml/xhtml.js"></script>
		<link type="text/ample+css" href="../../../../amplesdk/ample/languages/xul/themes/default/style.css" rel="stylesheet"/>
		<script type="text/javascript">
			var sXulNS  = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";

			function toolItemClick( )
			{
				alert( "Tool Item Clicked" );
			}

			function toolItemMenuClick( )
			{
				alert( "Tool Item in menu Clicked" );
			}

			function load( )
			{
				var to = ample.getElementById( "folders" );
				var button = ample.createElementNS( sXulNS, "xul:toolbarbutton" );
				button.setAttribute( "type", "menu-button" );
				button.setAttribute( "label", "Test Dynamic" );
				button.setAttribute( "command", "cmdToolItemClick" );
				to.appendChild( button );
			}

			ample.ready( load );
		</script>
		<style type="text/css">
			html, body {
				width:	100%;
				height: 100%;
				padding:0;
				margin:	0;
			}
		</style>
	</head>
	<body>
		<script type="application/ample+xml">
			<xul:page xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:aml="http://www.amplesdk.com/ns/aml">
				<xul:commandset>
					<xul:command id="cmdToolItemClick" oncommand="toolItemClick( )"/>
					<xul:command id="cmdToolItemMenuClick" oncommand="toolItemMenuClick( )"/>
				</xul:commandset>
				<xul:toolbar id="folders">
					<xul:toolbarbutton label="Test" command="cmdToolItemClick">
						<xul:menupopup>
							<xul:menuitem label="SubItem"/>
						</xul:menupopup>
					</xul:toolbarbutton>
					<xul:toolbarbutton label="Test MenuButton 1" type="menu" command="cmdToolItemClick">
						<xul:menupopup>
							<xul:menuitem label="SubItem" command="cmdToolItemMenuClick"/>
						</xul:menupopup>
					</xul:toolbarbutton>
					<xul:toolbarbutton label="Test MenuButton 2" type="menu-button" command="cmdToolItemClick">
						<xul:menupopup>
							<xul:menuitem label="SubItem" command="cmdToolItemMenuClick"/>
						</xul:menupopup>
					</xul:toolbarbutton>
				</xul:toolbar>
				<xul:listbox flex="1">
					<xul:listhead>
						<xul:listheader width="30" label="" />
						<xul:listheader width="500" label="Name" flex="1" />
						<xul:listheader width="170" label="" />
					</xul:listhead>
					<xul:listbody id="list">
					</xul:listbody>
				</xul:listbox>
			</xul:page>
		</script>
	</body>
</html>